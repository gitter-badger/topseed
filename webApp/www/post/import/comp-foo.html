
<template id="comp-1">
  <style>p { color: orange; }</style>
  <p>My markup</p>
</template>
<script>
  customElements.define('comp-1', class extends HTMLElement {
  
  	connectedCallback() { 
  		console.log('conn')
  		console.log(this._compRoot)
  
  		const nam = this.getAttribute('data-nam')
  		console.log(nam)
  		
  		this.addEventListener('click', function() {
  			console.log('clicked')
  		})
  	}//()
  	
  	disconnectedCallback() {
  		console.log('disco')
  	}//()
  
  	constructor() {
  		super() // always call super first
  		console.log('ctor')
  
  		//boiler plate:
  		this._compRoot = this.attachShadow({mode: 'open'})
  		const t = document.querySelector('#comp-1')
  		const instance = t.content.cloneNode(true)
  		this._compRoot.appendChild(instance)
  	}//()
  })//
</script>